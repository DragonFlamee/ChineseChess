# 中国象棋联机对战系统 (Chinese Chess Online)

这是一个基于 Java Swing 开发的中国象棋联机对战系统。系统采用 **客户端-服务器 (C/S)** 架构，支持两名玩家通过网络进行实时对弈与即时聊天。

## 1. 项目结构

该项目由以下核心部分组成：

### 核心逻辑 (Core Logic)

* **ChessPiece.java**: 抽象基类，定义了棋子的基本属性（颜色、类型、坐标）和通用绘制方法。
* **具体棋子类**: 实现了各自的行棋逻辑（`moveLogic`），包括：
* `General.java` (帅/将)：九宫格限制及“王不见王”逻辑。
* `Advisor.java` (仕/士)：九宫格斜行逻辑。
* `Elephant.java` (相/象)：田字格及塞象眼逻辑，限制过河。
* `Chariot.java` (车)：直线行进，障碍物检测。
* `Cannon.java` (炮)：移动同车，吃子需翻山。
* `Horse.java` & `Soldier.java`:（虽未提供全文，但属于系统预设棋子）。



### 网络与界面 (Networking & UI)

* **ChessServer.java**: 游戏服务端。管理玩家连接，分配红黑方，并转发移动与聊天消息。
* **ChessClient.java**: 游戏客户端网络模块。处理与服务器的通信协议。
* **GamePanel.java**: 核心游戏界面。处理鼠标点击、棋盘绘制、本地与远程移动同步及聊天 UI。
* **GameMain.java**: 客户端程序的启动入口。

## 2. 启动说明

本系统需要先启动服务器，再启动两个客户端进行连接。

### 第一步：启动服务器 (ChessServer)

服务器默认监听端口为 **12345**。

1. 找到 `ChessServer.java` 文件。
2. 运行其 `main` 方法。
3. 控制台将显示：“服务器启动，等待玩家连接...”。

### 第二步：启动客户端 (GameMain)

1. 找到 `GameMain.java` 文件。
2. 运行其 `main` 方法以启动第一个玩家（红方）。
* 客户端会自动尝试连接 `localhost:12345`。
* 控制台或弹出框将提示“等待另一位玩家加入...”。


3. 再次运行 `GameMain.java` 的 `main` 方法以启动第二个玩家（黑方）。
4. 当两名玩家都连接成功后，系统会弹出“游戏开始！”的提示。

> **注意**：如果服务器未启动，客户端将进入“单机模式”，仅支持本地操作，无法联机对弈。

## 3. 游戏功能

* **联机对弈**：实时同步双方落子位置。
* **即时聊天**：内置聊天侧边栏，支持玩家实时交流，带有类似微信的气泡显示效果。
* **胜负判定**：自动检测“将/帅”是否被吃，并弹出胜利宣言。
* **角色分配**：首位连接者为红方，次位为黑方。

---
